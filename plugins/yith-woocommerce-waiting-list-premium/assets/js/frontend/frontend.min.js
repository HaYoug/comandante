jQuery(document).ready(function(t){"use strict";var i=function(t,i,e){t=encodeURI(t),i=encodeURI(i);for(var n,a=e.parents(".yith-wcwtl-output").find("a.button, form"),c=void 0!==a.attr("action")?"action":"href",o=a.attr(c).split("&"),u=o.length;u--;)if((n=o[u].split("="))[0]==t){n[1]=i,o[u]=n.join("=");break}u<0&&(o[o.length]=[t,i].join("=")),a.prop(c,o.join("&"))},e=function(t,i){var e,n,a=t.split("?")[1].split("&");for(n=0;n<a.length;n++)e=a[n].split("="),i.push({name:e[0],value:e[1]});return i},n=function(i,n){t(document).trigger("yith-wcwtl-submit");var a=[{name:"action",value:"yith_wcwtl_submit"},{name:"context",value:"frontend"}],o=n.closest(".yith-wcwtl-output");a=e(i,a),o.addClass("active"),o.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),c().then(function(i){!0!==i&&a.push({name:"gtoken",value:i}),t.ajax({url:woocommerce_params.ajax_url,data:t.param(a),method:"POST",dataType:"json",error:function(t){},success:function(i){t(document).find(".yith-wcwtl-ajax-message").remove(),"error"===i.type?(o.replaceWith(i.form),t(document).find(".yith-wcwtl-notices").show().append(i.msg),t(document).find("#yith-wcwtl-user-email").trigger("input")):(t(document).find(".yith-wcwtl-output").addClass("success"),t(document).find(".yith-wcwtl-output").empty().html(i.msg)),t(document).find(".yith-wcwtl-output").removeClass("active"),t(document).find(".yith-wcwtl-output.active").unblock(),t(document).trigger("yith-wcwtl-submit-success")}})}).catch(function(i){console.log(i),t(document).find(".yith-wcwtl-output").removeClass("active"),t(document).find(".yith-wcwtl-output.active").unblock()})};let a="yes"===yith_wcwtl.is_ajax_enabled;t(document).on("click",".yith-wcwtl-output a.yith-wcwtl-submit",function(i){i.preventDefault(),a?n(t(this).attr("href"),t(this)):c().then(function(){window.location.href=t(".yith-wcwtl-submit").attr("href")})}),t(document).on("submit",".yith-wcwtl-output form",function(i){i.preventDefault(),n(t(this).attr("action"),t(this))}),t(document).on("input","#yith-wcwtl-user-email",function(){var e=t(this),n=e.val();i(e.attr("name"),n,e)}),t(document).on("change",".yith-wcwtl-policy-check",function(){var e,n=t(this);i(n.attr("name"),n.is(":checked")?"yes":"no",n)});var c=function(){return void 0!==yith_wcwtl.recaptcha_site_key&&yith_wcwtl.recaptcha_site_key?ywtwlGetCaptchaToken():new Promise(function(t,i){t(!0)})}});